@model IEnumerable<Client>
@{
    ViewData["Title"] = "Clientes";
    Layout = "_Layout";
    var sortOrder = Context.Request.Query["sortOrder"].ToString() ?? string.Empty;
    var searchString = Context.Request.Query["searchString"].ToString() ?? string.Empty;
    Func<string, string> sortLink = col =>
        Url.Action("Index", new { sortOrder = sortOrder == col ? col + "_desc" : col }) ?? string.Empty;

}
<!-- Formulario de búsqueda mejorado -->
<form method="get" class="mb-3" id="searchForm">
    <div class="input-group">
        <input type="text" id="searchInput" name="searchString" class="form-control"
               placeholder="Buscar cliente..." value="@searchString"
               autocomplete="off" />
        <button class="btn btn-outline-secondary" type="button" id="clearSearch">
            <i class="fas fa-times"></i> Limpiar
        </button>
    </div>
    <small class="text-muted">
        <span id="searchResults">Mostrando todos los clientes</span>
    </small>
</form>

@if (User.IsInRole("Administrador"))
{
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#CreateClientModal">
        <i class="bi bi-plus-circle me-1"></i> Nuevo Cliente
    </button>
}
<div class="modal fade" id="CreateClientModal" tabindex="-1" aria-labelledby="CreateClientModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="CreateClientModalLabel">Nuevo Cliente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                @await Html.PartialAsync("_Create", new Client())
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="editClientModal" tabindex="-1" aria-labelledby="editClientModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editClientModalLabel"><i class="bi bi-pencil-square me-1"></i> Editar Cliente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
            </div>
        </div>
    </div>
</div>

<div class="table-responsive" id="clientTableContainer">
    @await Html.PartialAsync("_ClientTable", Model)
</div>
<script src="~/js/Client.js"></script>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}